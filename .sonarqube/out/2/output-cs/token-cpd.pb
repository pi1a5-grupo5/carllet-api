Ž
2D:\_lab\carllet-mvp\Infra.Data\CarlletDbContext.cs
	namespace 	
Infra
 
. 
Data 
{ 
public 

class 
CarlletDbContext !
:" #
	DbContext$ -
{		 
public

 
DbSet

 
<

 
User

 
>

 
User

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
public 
DbSet 
< 
Vehicle 
> 
Vehicle %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DbSet 
< 
Course 
> 
Course #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
DbSet 
< 
Earning 
> 
Earning %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
CarlletDbContext 
(  
DbContextOptions  0
<0 1
CarlletDbContext1 A
>A B
optionsC J
)J K
:L M
baseN R
(R S
optionsS Z
)Z [
{ 	
}
 
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
modelBuilder 
. 
Entity 
<  
Course  &
>& '
(' (
)( )
. 
HasKey 
( 
c 
=> 
c 
. 
Id 
) 
; 
modelBuilder 
. 
Entity 
<  
Course  &
>& '
(' (
)( )
. 
HasOne 
( 
c 
=> 
c 
. 
Owner $
)$ %
. 
WithMany 
( 
) 
. 
HasForeignKey 
( 
c  
=>! #
c$ %
.% &
OwnerId& -
)- .
. 
OnDelete 
( 
DeleteBehavior (
.( )
Cascade) 0
)0 1
;1 2
modelBuilder 
. 
Entity 
<  
Earning  '
>' (
(( )
)) *
. 
HasOne 
( 
e 
=> 
e 
. 
Owner $
)$ %
. 
WithMany 
( 
) 
. 
HasForeignKey 
( 
e  
=>! #
e$ %
.% &
OwnerId& -
)- .
.   
OnDelete   
(   
DeleteBehavior   (
.  ( )
Cascade  ) 0
)  0 1
;  1 2
}!! 	
}$$ 
}%% Ç[
ID:\_lab\carllet-mvp\Infra.Data\Migrations\20230810014509_InitialCreate.cs
	namespace 	
Infra
 
. 
Data 
. 

Migrations 
{ 
public		 

partial		 
class		 
InitialCreate		 &
:		' (
	Migration		) 2
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str  
,  !
columns 
: 
table 
=> !
new" %
{ 
id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 8
,8 9
nullable: B
:B C
falseD I
)I J
,J K
nome 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 <
,< =
nullable> F
:F G
falseH M
)M N
,N O

numero_cnh 
=  
table! &
.& '
Column' -
<- .
string. 4
>4 5
(5 6
type6 :
:: ;
$str< B
,B C
nullableD L
:L M
trueN R
)R S
,S T
email 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 =
,= >
nullable? G
:G H
falseI N
)N O
,O P
senha 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 =
,= >
nullable? G
:G H
falseI N
)N O
,O P
telefone 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: @
,@ A
nullableB J
:J K
trueL P
)P Q
,Q R
deviceid 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: @
,@ A
nullableB J
:J K
trueL P
)P Q
,Q R
refresh_token !
=" #
table$ )
.) *
Column* 0
<0 1
string1 7
>7 8
(8 9
type9 =
:= >
$str? E
,E F
nullableG O
:O P
trueQ U
)U V
,V W$
refresh_token_expiration ,
=- .
table/ 4
.4 5
Column5 ;
<; <
DateTime< D
>D E
(E F
typeF J
:J K
$strL f
,f g
nullableh p
:p q
truer v
)v w
,w x
access_token  
=! "
table# (
.( )
Column) /
</ 0
string0 6
>6 7
(7 8
type8 <
:< =
$str> D
,D E
nullableF N
:N O
trueP T
)T U
,U V#
access_token_expiration +
=, -
table. 3
.3 4
Column4 :
<: ;
DateTime; C
>C D
(D E
typeE I
:I J
$strK e
,e f
nullableg o
:o p
trueq u
)u v
} 
, 
constraints 
: 
table "
=># %
{ 
table   
.   

PrimaryKey   $
(  $ %
$str  % 2
,  2 3
x  4 5
=>  6 8
x  9 :
.  : ;
id  ; =
)  = >
;  > ?
}!! 
)!! 
;!! 
migrationBuilder## 
.## 
CreateTable## (
(##( )
name$$ 
:$$ 
$str$$  
,$$  !
columns%% 
:%% 
table%% 
=>%% !
new%%" %
{&& 

id_veiculo'' 
=''  
table''! &
.''& '
Column''' -
<''- .
int''. 1
>''1 2
(''2 3
type''3 7
:''7 8
$str''9 B
,''B C
nullable''D L
:''L M
false''N S
)''S T
.(( 

Annotation(( #
(((# $
$str(($ D
,((D E)
NpgsqlValueGenerationStrategy((F c
.((c d#
IdentityByDefaultColumn((d {
)(({ |
,((| }
marca)) 
=)) 
table)) !
.))! "
Column))" (
<))( )
string))) /
>))/ 0
())0 1
type))1 5
:))5 6
$str))7 =
,))= >
nullable))? G
:))G H
false))I N
)))N O
,))O P
modelo** 
=** 
table** "
.**" #
Column**# )
<**) *
string*** 0
>**0 1
(**1 2
type**2 6
:**6 7
$str**8 >
,**> ?
nullable**@ H
:**H I
false**J O
)**O P
,**P Q
ano_fabricacao++ "
=++# $
table++% *
.++* +
Column+++ 1
<++1 2
short++2 7
>++7 8
(++8 9
type++9 =
:++= >
$str++? I
,++I J
nullable++K S
:++S T
false++U Z
)++Z [
,++[ \
	hodometro,, 
=,, 
table,,  %
.,,% &
Column,,& ,
<,,, -
int,,- 0
>,,0 1
(,,1 2
type,,2 6
:,,6 7
$str,,8 A
,,,A B
nullable,,C K
:,,K L
false,,M R
),,R S
,,,S T

is_alugado-- 
=--  
table--! &
.--& '
Column--' -
<--- .
bool--. 2
>--2 3
(--3 4
type--4 8
:--8 9
$str--: C
,--C D
nullable--E M
:--M N
false--O T
)--T U
}.. 
,.. 
constraints// 
:// 
table// "
=>//# %
{00 
table11 
.11 

PrimaryKey11 $
(11$ %
$str11% 2
,112 3
x114 5
=>116 8
x119 :
.11: ;

id_veiculo11; E
)11E F
;11F G
}22 
)22 
;22 
migrationBuilder44 
.44 
CreateTable44 (
(44( )
name55 
:55 
$str55  
,55  !
columns66 
:66 
table66 
=>66 !
new66" %
{77 
Id88 
=88 
table88 
.88 
Column88 %
<88% &
Guid88& *
>88* +
(88+ ,
type88, 0
:880 1
$str882 8
,888 9
nullable88: B
:88B C
false88D I
)88I J
,88J K
id_condutor99 
=99  !
table99" '
.99' (
Column99( .
<99. /
Guid99/ 3
>993 4
(994 5
type995 9
:999 :
$str99; A
,99A B
nullable99C K
:99K L
true99M Q
)99Q R
,99R S
distancia_percurso:: &
=::' (
table::) .
.::. /
Column::/ 5
<::5 6
float::6 ;
>::; <
(::< =
type::= A
:::A B
$str::C I
,::I J
nullable::K S
:::S T
false::U Z
)::Z [
,::[ \
data_fim_percurso;; %
=;;& '
table;;( -
.;;- .
Column;;. 4
<;;4 5
DateTime;;5 =
>;;= >
(;;> ?
type;;? C
:;;C D
$str;;E _
,;;_ `
nullable;;a i
:;;i j
false;;k p
);;p q
,;;q r
UserId<< 
=<< 
table<< "
.<<" #
Column<<# )
<<<) *
Guid<<* .
><<. /
(<</ 0
type<<0 4
:<<4 5
$str<<6 <
,<<< =
nullable<<> F
:<<F G
true<<H L
)<<L M
}== 
,== 
constraints>> 
:>> 
table>> "
=>>># %
{?? 
table@@ 
.@@ 

PrimaryKey@@ $
(@@$ %
$str@@% 2
,@@2 3
x@@4 5
=>@@6 8
x@@9 :
.@@: ;
Id@@; =
)@@= >
;@@> ?
tableAA 
.AA 

ForeignKeyAA $
(AA$ %
nameBB 
:BB 
$strBB ;
,BB; <
columnCC 
:CC 
xCC  !
=>CC" $
xCC% &
.CC& '
UserIdCC' -
,CC- .
principalTableDD &
:DD& '
$strDD( 2
,DD2 3
principalColumnEE '
:EE' (
$strEE) -
)EE- .
;EE. /
tableFF 
.FF 

ForeignKeyFF $
(FF$ %
nameGG 
:GG 
$strGG @
,GG@ A
columnHH 
:HH 
xHH  !
=>HH" $
xHH% &
.HH& '
id_condutorHH' 2
,HH2 3
principalTableII &
:II& '
$strII( 2
,II2 3
principalColumnJJ '
:JJ' (
$strJJ) -
,JJ- .
onDeleteKK  
:KK  !
ReferentialActionKK" 3
.KK3 4
CascadeKK4 ;
)KK; <
;KK< =
}LL 
)LL 
;LL 
migrationBuilderNN 
.NN 
CreateIndexNN (
(NN( )
nameOO 
:OO 
$strOO /
,OO/ 0
tablePP 
:PP 
$strPP !
,PP! "
columnQQ 
:QQ 
$strQQ %
)QQ% &
;QQ& '
migrationBuilderSS 
.SS 
CreateIndexSS (
(SS( )
nameTT 
:TT 
$strTT *
,TT* +
tableUU 
:UU 
$strUU !
,UU! "
columnVV 
:VV 
$strVV  
)VV  !
;VV! "
}WW 	
	protectedZZ 
overrideZZ 
voidZZ 
DownZZ  $
(ZZ$ %
MigrationBuilderZZ% 5
migrationBuilderZZ6 F
)ZZF G
{[[ 	
migrationBuilder\\ 
.\\ 
	DropTable\\ &
(\\& '
name]] 
:]] 
$str]]  
)]]  !
;]]! "
migrationBuilder__ 
.__ 
	DropTable__ &
(__& '
name`` 
:`` 
$str``  
)``  !
;``! "
migrationBuilderbb 
.bb 
	DropTablebb &
(bb& '
namecc 
:cc 
$strcc  
)cc  !
;cc! "
}dd 	
}ee 
}ff Ó
DD:\_lab\carllet-mvp\Infra.Data\Migrations\20230904232731_Earnings.cs
	namespace 	
Infra
 
. 
Data 
. 

Migrations 
{ 
public		 

partial		 
class		 
Earnings		 !
:		" #
	Migration		$ -
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
, 
columns 
: 
table 
=> !
new" %
{ 
id_ganho 
= 
table $
.$ %
Column% +
<+ ,
Guid, 0
>0 1
(1 2
type2 6
:6 7
$str8 >
,> ?
nullable@ H
:H I
falseJ O
)O P
,P Q
id_condutor_ganho %
=& '
table( -
.- .
Column. 4
<4 5
Guid5 9
>9 :
(: ;
type; ?
:? @
$strA G
,G H
nullableI Q
:Q R
trueS W
)W X
,X Y 
dt_hr_insercao_ganho (
=) *
table+ 0
.0 1
Column1 7
<7 8
DateTime8 @
>@ A
(A B
typeB F
:F G
$strH b
,b c
nullabled l
:l m
falsen s
)s t
,t u
valor_ganho 
=  !
table" '
.' (
Column( .
<. /
double/ 5
>5 6
(6 7
type7 ;
:; <
$str= O
,O P
nullableQ Y
:Y Z
false[ `
)` a
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% /
,/ 0
x1 2
=>3 5
x6 7
.7 8
id_ganho8 @
)@ A
;A B
table 
. 

ForeignKey $
($ %
name 
: 
$str C
,C D
column 
: 
x  !
=>" $
x% &
.& '
id_condutor_ganho' 8
,8 9
principalTable &
:& '
$str( 2
,2 3
principalColumn '
:' (
$str) -
,- .
onDelete  
:  !
ReferentialAction" 3
.3 4
Cascade4 ;
); <
;< =
}   
)   
;   
migrationBuilder"" 
."" 
CreateIndex"" (
(""( )
name## 
:## 
$str## 2
,##2 3
table$$ 
:$$ 
$str$$ 
,$$ 
column%% 
:%% 
$str%% +
)%%+ ,
;%%, -
}&& 	
	protected)) 
override)) 
void)) 
Down))  $
())$ %
MigrationBuilder))% 5
migrationBuilder))6 F
)))F G
{** 	
migrationBuilder++ 
.++ 
	DropTable++ &
(++& '
name,, 
:,, 
$str,, 
),, 
;,, 
}-- 	
}.. 
}// 